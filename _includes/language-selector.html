<!-- _includes/language-selector.html -->
<div class="language-selector">
    <label for="lang-select">{{ t.language | default: 'Language' }}:</label>
    <select id="lang-select">
        <option
            value="pt"
            {% if site.lang == 'pt' %}
                selected
            {% endif %}
        >
            PortuguÃªs
        </option>
        <option
            value="en"
            {% if site.lang == 'en' %}
                selected
            {% endif %}
        >
            English
        </option>
    </select>
</div>

<script>
    document.getElementById('lang-select').addEventListener('change', function (e) {
        localStorage.setItem('site-lang', e.target.value);
        location.reload();
    });

    window.addEventListener('load', function () {
        const savedLang = localStorage.getItem('site-lang');
        if (savedLang) {
            document.getElementById('lang-select').value = savedLang;
        }
    });
</script>

<style>
    .language-selector {
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .language-selector select {
        padding: 6px 10px;
        border: 1px solid #ddd;
        border-radius: 4px;
        cursor: pointer;
    }
</style>
